(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,a,t){e.exports=t(114)},106:function(e,a,t){},114:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(9),l=t.n(i),c=(t(106),t(28)),o=t(11),s=t(16),u=t.n(s),m=t(32),p=t(24);var d=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Username:")," ",e.user.username,r.a.createElement("br",null),r.a.createElement("strong",null,"Email:")," ",e.user.email,r.a.createElement("br",null),r.a.createElement("hr",null))};var E=function(e){var a=Object(n.useState)([]),t=Object(p.a)(a,2),i=t[0],l=t[1];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users");case 2:return a=e.sent,e.next=5,a.json();case 5:t=e.sent,l(t.users);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var c=i.map((function(e){return r.a.createElement(d,{key:e.id,user:e})}));return console.log("____Rendering User List____"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"User List: "),c)},g=t(50),f=t(77),h=t(23),b=t(44),v=t.n(b),w="authentication/SET_USER",x="authentication/REMOVE_USER",y=function(e){return{type:w,user:e}},O=function(e,a){return function(){var t=Object(m.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json","XSRF-TOKEN":v.a.get("XSRF-TOKEN")},body:JSON.stringify({email:e,password:a})});case 2:return r=t.sent,t.next=5,r.json();case 5:return r.data=t.sent,r.ok&&n(y(r.data.user)),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var j=t(3),S=t(146),N=t(148),C=t(163),_=t(160),T=t(150),k=t(151),R=t(83),W=t(153),B=t(152),D=t(154),F=t(155),L=t(116),I=t(79),P=t.n(I),U=t(80),X=t.n(U),H=Object(S.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(f.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(g.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function K(){var e=H(),a=r.a.useState(!0),t=Object(p.a)(a,2),i=t[0],l=t[1],c=Object(h.c)((function(e){return e.auth.id})),s=Object(h.b)(),d=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/logout",{method:"DELETE",headers:{"XSRF-TOKEN":v.a.get("XSRF-TOKEN")}});case 2:s(y({}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users");case 2:return a=e.sent,e.next=5,a.json();case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),!c)return r.a.createElement(o.a,{to:"login"});var E=Object(j.a)(e.paper,e.fixedHeight);return r.a.createElement("div",{className:e.root},r.a.createElement(N.a,null),r.a.createElement(T.a,{position:"absolute",className:Object(j.a)(e.appBar,i&&e.appBarShift)},r.a.createElement(k.a,{className:e.toolbar},r.a.createElement(B.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(j.a)(e.menuButton,i&&e.menuButtonHidden)},r.a.createElement(P.a,null)),r.a.createElement(R.a,{component:"h1",variant:"h6",color:"textPrimary",noWrap:!0,className:e.title},"Dashboard"),r.a.createElement("button",{onClick:d},"Log out"))),r.a.createElement(C.a,{variant:"permanent",classes:{paper:Object(j.a)(e.drawerPaper,!i&&e.drawerPaperClose)},open:i},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(B.a,{onClick:function(){l(!1)}},r.a.createElement(X.a,null))),r.a.createElement(W.a,null),r.a.createElement(W.a,null)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(D.a,{maxWidth:"lg",className:e.container},r.a.createElement(F.a,{container:!0,spacing:3},r.a.createElement(F.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(L.a,{className:E})),r.a.createElement(F.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(L.a,{className:E})),r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(L.a,{className:e.paper}))),r.a.createElement(_.a,{pt:4}))))}var q=t(164),M=t(158),J=t(159),Y=t(157),A=t(162),V=t(156),z=t(58),G=t.n(z);function Q(){return r.a.createElement(R.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(V.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var Z=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function $(){var e=Z(),a=Object(n.useState)(""),t=Object(p.a)(a,2),i=t[0],l=t[1],c=Object(n.useState)(""),s=Object(p.a)(c,2),u=s[0],m=s[1],d=Object(h.c)((function(e){return e.auth.id})),E=Object(h.b)();return d?r.a.createElement(o.a,{to:"/dashboard"}):r.a.createElement(D.a,{component:"main",maxWidth:"xs"},r.a.createElement(N.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(q.a,{className:e.avatar},r.a.createElement(G.a,null)),r.a.createElement(R.a,{component:"h1",variant:"h5"},"Log in"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),E(O(i,u))},noValidate:!0},r.a.createElement(J.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return l(e.target.value)}}),r.a.createElement(J.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return m(e.target.value)}}),r.a.createElement(Y.a,{control:r.a.createElement(A.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Log In"),r.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),E(O("demo@user.org","password9"))}},"DEMO USER"),r.a.createElement(F.a,{container:!0},r.a.createElement(F.a,{item:!0,xs:!0},r.a.createElement(V.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(F.a,{item:!0},r.a.createElement(V.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(_.a,{mt:8},r.a.createElement(Q,null)))}function ee(){return r.a.createElement(R.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(V.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var ae=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function te(){var e=Object(n.useState)(""),a=Object(p.a)(e,2),t=a[0],i=a[1],l=Object(n.useState)(""),c=Object(p.a)(l,2),s=c[0],d=c[1],E=Object(n.useState)(""),g=Object(p.a)(E,2),f=g[0],b=g[1],w=Object(h.b)(),x=Object(h.c)((function(e){return e.auth.id})),O=ae();return x?r.a.createElement(o.a,{to:"/dashboard"}):r.a.createElement(D.a,{component:"main",maxWidth:"xs"},r.a.createElement(N.a,null),r.a.createElement("div",{className:O.paper},r.a.createElement(q.a,{className:O.avatar},r.a.createElement(G.a,null)),r.a.createElement(R.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:O.form,onSubmit:function(e){e.preventDefault(),w(function(e,a,t){return function(){var n=Object(m.a)(u.a.mark((function n(r){var i,l,c,o,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/users/signup",{method:"post",headers:{"Content-Type":"application/json","XSRF-TOKEN":v.a.get("XSRF-TOKEN")},body:JSON.stringify({email:a,username:e,password:t})});case 2:return i=n.sent,n.next=5,i.json();case 5:return l=n.sent,(c=l.message)&&(console.log("this is the error message",c),(o=document.getElementById("sign-up-errors")).innerHTML="",c&&(o.style.display="flex",(s=document.createElement("li")).innerHTML=c,o.appendChild(s))),r(y(l.user)),i.data=l,n.abrupt("return",i);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(s,t,f))},noValidate:!0},r.a.createElement(F.a,{container:!0,spacing:2},r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(J.a,{autoComplete:"username",name:"userName",variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"User Name",autoFocus:!0,onChange:function(e){return d(e.target.value)}})),r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return i(e.target.value)}})),r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return b(e.target.value)}})),r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(Y.a,{control:r.a.createElement(A.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:O.submit},"Sign Up"),r.a.createElement(F.a,{container:!0,justify:"flex-end"},r.a.createElement(F.a,{item:!0},r.a.createElement(V.a,{href:"#",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(_.a,{mt:5},r.a.createElement(ee,null)))}var ne,re=function(){return console.log("____Rendering app_____"),r.a.createElement(c.a,null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/login",activeclass:"active"},"Log in")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/signup",activeclass:"active"},"Sign up")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/users",activeclass:"active"},"Users")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/",activeclass:"active"},"Landing Page")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/dashboard",activeclass:"active"},"Dashboard")))),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/dashboard"},r.a.createElement(K,null)),r.a.createElement(o.b,{path:"/login"},r.a.createElement($,null)),r.a.createElement(o.b,{path:"/signup"},r.a.createElement(te,null)),r.a.createElement(o.b,{path:"/users"},r.a.createElement(E,null)),r.a.createElement(o.b,{path:"/"},r.a.createElement("h1",null,"Landing Page"))))},ie=t(40),le=t(81),ce=Object(ie.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case w:return a.user;case x:return{};default:return e}}});ne=Object(ie.a)(le.a);var oe,se=Object(ie.d)(ce,oe,ne);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:se},r.a.createElement(re,null))),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.521eeacd.chunk.js.map